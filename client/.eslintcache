[{"/home/user/js/node_todo/client/src/components/TodoItem/index.jsx":"1","/home/user/js/node_todo/client/src/index.jsx":"2","/home/user/js/node_todo/client/src/components/Container/index.jsx":"3","/home/user/js/node_todo/client/src/services/ItemsService/index.js":"4","/home/user/js/node_todo/client/src/screens/Login/index.jsx":"5","/home/user/js/node_todo/client/src/screens/Auth/index.jsx":"6","/home/user/js/node_todo/client/src/components/ItemsList/index.jsx":"7","/home/user/js/node_todo/client/src/components/ItemColor/index.jsx":"8","/home/user/js/node_todo/client/src/components/ColorBtns/index.jsx":"9","/home/user/js/node_todo/client/src/components/InputForm/index.jsx":"10","/home/user/js/node_todo/client/src/context/authContext.jsx":"11","/home/user/js/node_todo/client/src/routes/authRouter.jsx":"12","/home/user/js/node_todo/client/src/mainRouter.jsx":"13","/home/user/js/node_todo/client/src/routes/secureRoutes.jsx":"14","/home/user/js/node_todo/client/src/screens/Register/index.jsx":"15","/home/user/js/node_todo/client/src/services/AuthSerice/index.js":"16"},{"size":1815,"mtime":1607342143286,"results":"17","hashOfConfig":"18"},{"size":398,"mtime":1607350366418,"results":"19","hashOfConfig":"18"},{"size":4211,"mtime":1607349381260,"results":"20","hashOfConfig":"18"},{"size":1256,"mtime":1607081510377,"results":"21","hashOfConfig":"18"},{"size":2152,"mtime":1607420378561,"results":"22","hashOfConfig":"18"},{"size":1591,"mtime":1607345077674,"results":"23","hashOfConfig":"18"},{"size":770,"mtime":1607088715076,"results":"24","hashOfConfig":"18"},{"size":639,"mtime":1607342977745,"results":"25","hashOfConfig":"18"},{"size":789,"mtime":1607335221073,"results":"26","hashOfConfig":"18"},{"size":1065,"mtime":1607070510827,"results":"27","hashOfConfig":"18"},{"size":146,"mtime":1607348430358,"results":"28","hashOfConfig":"18"},{"size":1556,"mtime":1607351045753,"results":"29","hashOfConfig":"18"},{"size":780,"mtime":1607422223788,"results":"30","hashOfConfig":"18"},{"size":489,"mtime":1607420934227,"results":"31","hashOfConfig":"18"},{"size":2694,"mtime":1607423317939,"results":"32","hashOfConfig":"18"},{"size":633,"mtime":1607422869394,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1m4u33p",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"38"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/user/js/node_todo/client/src/components/TodoItem/index.jsx",[],"/home/user/js/node_todo/client/src/index.jsx",[],["72","73"],"/home/user/js/node_todo/client/src/components/Container/index.jsx",["74"],"import React, {useState, useEffect} from 'react';\nimport ItemsList from '../ItemsList';\nimport InputForm from '../InputForm';\nimport ItemsService from \"../../services/ItemsService\";\n\nfunction Container(props) {\n  console.log('rendered')\n  const itemsService = new ItemsService()\n\n  const [colors, setColors] = useState([\n    {\n      backgroundColor: '#ef666c',\n      selected: false,\n    },\n    {\n      backgroundColor: '#f171a2',\n      selected: false,\n    },\n    {\n      backgroundColor: '#8f6ac8',\n      selected: false,\n    },\n    {\n      backgroundColor: '#5eb1f3',\n      selected: false,\n\n    },\n    {\n      backgroundColor: '#68d8e3',\n      selected: false,\n    },\n    {\n      backgroundColor: '#fde087',\n      selected: false,\n\n    },\n  ]);\n\n  const [currentItem, setCurrentItem] = useState({\n    task: '',\n    completed: false,\n    color: '',\n  });\n\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    async function requestItems() {\n      try {\n        const items = await itemsService.getItems();\n        setItems(items)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n\n    requestItems();\n  }, [])\n\n\n  async function createItem() {\n    try {\n      const item = {\n        ...currentItem,\n        color: getItemsColor()\n      }\n      const data = await itemsService.createItem(item);\n      setItems([...items, data]);\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  async function handleCheck(id) {\n    try {\n      const item = items.find((el) => el.id === id);\n      if (item) {\n        item.completed = !item.completed\n      }\n      await itemsService.patchItem(id, item)\n      setItems([...items])\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  async function handleText(id, event) {\n    try {\n      const item = items.find((el) => el.id === id);\n      if (item) {\n        item.task = event.target.value\n      }\n      await itemsService.patchItem(id, item)\n      setItems([...items])\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  async function deleteItem(id) {\n    try {\n      await itemsService.deleteItem(id);\n      const newItems = items.filter(item => item.id !== id);\n      setItems(newItems);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  function handleClickColor(i) {\n    const newColors = [...colors];\n    setColors(newColors.map((item, index) => {\n          const newItem = item;\n          if (i === index) {\n            newItem.selected = !newItem.selected\n          } else newItem.selected = i === index\n          return newItem;\n        }\n        )\n    );\n  }\n\n  function handleTextInputChange(event) {\n    setCurrentItem({\n      task: event.target.value,\n      completed: false,\n      color: currentItem.color\n    });\n  }\n\n  function getItemsColor() {\n    const activeCheckbox = colors.find((item) => item.selected);\n    return activeCheckbox ? activeCheckbox.backgroundColor : colors[Math.floor(Math.random() * 6)].backgroundColor;\n  }\n\n\n  async function handleSubmit(event) {\n    event.preventDefault(); // отменим стандартное поведение браузера\n    if (currentItem.task !== '') {\n      try {\n        await createItem()\n        setCurrentItem({\n          task: '',\n          completed: false,\n          id: '',\n          color: ''\n        })\n      } catch (e) {\n\n      }\n    }\n  }\n\n  return (\n      <div>\n        <div id=\"main\">\n          <div id=\"lg\">\n            <div id=\"header\">\n              <div id=\"logo\">Todo</div>\n              <input onClick={props.logout} className=\"logout\" type=\"button\" value=\"Logout\"/>\n            </div>\n          </div>\n        </div>\n        <div id=\"container\">\n          <div className=\"page\">\n            <ItemsList\n                deleteItem={deleteItem}\n                handleCheck={handleCheck}\n                items={items}\n                handleText={handleText}\n            />\n            <InputForm\n                createItem={createItem}\n                handleSubmit={handleSubmit}\n                inputValue={currentItem.task}\n                onChange={handleTextInputChange}\n                colors={colors}\n                handleClickColor={handleClickColor}\n            />\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default Container;\n","/home/user/js/node_todo/client/src/services/ItemsService/index.js",[],"/home/user/js/node_todo/client/src/screens/Login/index.jsx",[],"/home/user/js/node_todo/client/src/screens/Auth/index.jsx",["75","76","77","78","79","80"],"import React, {useState} from 'react';\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport \"./styles.css\";\nimport axios from \"axios\";\nimport Container from \"../../components/Container\";\nimport Login from \"../Login\";\n\nfunction Auth(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isAuth, setIsAuth] = useState(false);\n  const [token, setToken] = useState(null);\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value)\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value)\n  }\n\n  function signIn() {\n    axios.post('/login', {\n      email: email,\n      password: password\n    })\n        .then(res => {\n          setError('');\n          setIsAuth(true);\n          setToken(localStorage.setItem('token', res.data.token));\n        })\n        .catch(err => {\n          setError(err.response.data.message)\n          console.log(err);\n        });\n  }\n\n  function logout() {\n    setIsAuth(false);\n    localStorage.removeItem('token');\n  }\n\n  function signUp() {\n    axios.post('/register', {\n      email: email,\n      password: password\n    })\n        .then(res => {\n          setError('');\n          console.log(token)\n        })\n        .catch(err => {\n          setError(err.response.data.message)\n        });\n  }\n\n  return (\n      <Login\n          handleEmailChange={handleEmailChange}\n          handlePasswordChange={handlePasswordChange}\n          error={error}\n          signUp={signUp}\n          signIn={signIn}\n      />\n  )\n}\n\nexport default Auth;\n",["81","82"],"/home/user/js/node_todo/client/src/components/ItemsList/index.jsx",[],["83","84"],"/home/user/js/node_todo/client/src/components/ItemColor/index.jsx",[],"/home/user/js/node_todo/client/src/components/ColorBtns/index.jsx",[],"/home/user/js/node_todo/client/src/components/InputForm/index.jsx",[],"/home/user/js/node_todo/client/src/context/authContext.jsx",[],"/home/user/js/node_todo/client/src/routes/authRouter.jsx",["85","86"],"import React, {useContext} from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\nimport AuthContext from \"../context/authContext\";\nimport {useHistory} from 'react-router-dom';\nimport PrivateRoute from \"./secureRoutes\";\nimport Login from \"../screens/Login\";\nimport Register from \"../screens/Register\";\n\nfunction MockComp() {\n  const authContext = useContext(AuthContext)\n  let history = useHistory();\n  const buttonStyle = {\n    width: 300,\n    height: 300\n  }\n  return (\n      <>\n        <p>{`Register rendered, context is ${authContext.isAuth}`}</p>\n        <button\n            style={buttonStyle}\n            onClick={() => history.goBack()}/>\n      </>\n  )\n}\n\n// function Login() {\n//   console.log('rendered')\n//   const authContext = useContext(AuthContext)\n//   let history = useHistory();\n//   const buttonStyle = {\n//     width: 300,\n//     height: 300\n//   }\n//\n//   console.log(`login rendered, context is ${authContext.isAuth}`)\n//   return (\n//       <>\n//         <button\n//             style={buttonStyle}\n//             onClick={() => authContext.setIsAuth(!authContext.isAuth)}>\n//           {`Context value is ${authContext.isAuth}`}\n//         </button>\n//         <button\n//             style={buttonStyle}\n//             onClick={() => history.push('/auth/register')}/>\n//       </>\n//   )\n// }\n\nexport function AuthRouter({match}) {\n  return (\n      <Switch>\n        <Route exact path={`${match.path}/login`} component={Login}/>\n        <Route exact path={`${match.path}/register`} component={Register}/>\n      </Switch>\n  )\n}\n","/home/user/js/node_todo/client/src/mainRouter.jsx",[],"/home/user/js/node_todo/client/src/routes/secureRoutes.jsx",[],"/home/user/js/node_todo/client/src/screens/Register/index.jsx",[],"/home/user/js/node_todo/client/src/services/AuthSerice/index.js",[],{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","severity":1,"message":"92","line":58,"column":6,"nodeType":"93","endLine":58,"endColumn":8,"suggestions":"94"},{"ruleId":"95","severity":1,"message":"96","line":2,"column":9,"nodeType":"97","messageId":"98","endLine":2,"endColumn":17},{"ruleId":"95","severity":1,"message":"99","line":2,"column":19,"nodeType":"97","messageId":"98","endLine":2,"endColumn":24},{"ruleId":"95","severity":1,"message":"100","line":2,"column":26,"nodeType":"97","messageId":"98","endLine":2,"endColumn":32},{"ruleId":"95","severity":1,"message":"101","line":5,"column":8,"nodeType":"97","messageId":"98","endLine":5,"endColumn":17},{"ruleId":"95","severity":1,"message":"102","line":12,"column":10,"nodeType":"97","messageId":"98","endLine":12,"endColumn":16},{"ruleId":"95","severity":1,"message":"103","line":39,"column":12,"nodeType":"97","messageId":"98","endLine":39,"endColumn":18},{"ruleId":"87","replacedBy":"104"},{"ruleId":"89","replacedBy":"105"},{"ruleId":"87","replacedBy":"106"},{"ruleId":"89","replacedBy":"107"},{"ruleId":"95","severity":1,"message":"108","line":5,"column":8,"nodeType":"97","messageId":"98","endLine":5,"endColumn":20},{"ruleId":"95","severity":1,"message":"109","line":9,"column":10,"nodeType":"97","messageId":"98","endLine":9,"endColumn":18},"no-native-reassign",["110"],"no-negated-in-lhs",["111"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'itemsService'. Either include it or remove the dependency array.","ArrayExpression",["112"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'Switch' is defined but never used.","'Container' is defined but never used.","'isAuth' is assigned a value but never used.","'logout' is defined but never used.",["110"],["111"],["110"],["111"],"'PrivateRoute' is defined but never used.","'MockComp' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"113","fix":"114"},"Update the dependencies array to be: [itemsService]",{"range":"115","text":"116"},[1130,1132],"[itemsService]"]